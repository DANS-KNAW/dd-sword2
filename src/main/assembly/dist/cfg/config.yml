health:
  delayedShutdownHandlerEnabled: false
  healthChecks:
    - critical: true
      name: DiskSpace
    - critical: true
      name: UploadDepositIsOnSameFileSystem
    - critical: true
      name: FileSystemPermissions
    - critical: true
      name: FinalizerQueue
    - critical: true
      name: FinalizingExecutor
    - critical: true
      name: RescheduleExecutor
  initialOverallState: false

logging:
  appenders:
    - archive: false
      currentLogFilename: /var/opt/dans.knaw.nl/log/dd-sword2/dd-sword2.log
      type: file
  level: INFO
  loggers:
    nl.knaw.dans: TRACE

server:
  applicationConnectors:
    - port: 20320
      type: http
  adminConnectors:
    - port: 20321
      type: http
  adminContextPath: /
  applicationContextPath: /

sword2:
  baseUrl: https://dar.dans.knaw.nl/sword2/
  emailAddress: test@test.com
  collections:
    - name: collection1
      path: 1
      autoClean:
        - INVALID
      deposits: /var/opt/dans.knaw.nl/tmp/auto-ingest/inbox
      uploads: /var/opt/dans.knaw.nl/tmp/sword2-uploads
      diskSpaceMargin: 2G
  finalizingQueue:
    keepAliveTime: 60 seconds
    maxQueueSize: 5000
    maxThreads: 5
    minThreads: 2
    nameFormat: finalization-worker-%d
  rescheduleDelay: PT30S
  rescheduleQueue:
    keepAliveTime: 3600 seconds
    maxQueueSize: 5000
    maxThreads: 100
    minThreads: 2
    nameFormat: reschedule-worker-%d

users:
  - collections:
      - collection1
    filepathMapping: true
    name: user001
    passwordHash: $2a$10$yvmSYczU7z4KL6qmRCTgTeSvo7uurwPUbB9s/mTKzJrYM/sQKgF.y
